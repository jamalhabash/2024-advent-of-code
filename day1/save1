with import <nixpkgs> { };
rec {

  input = lib.strings.splitString "\n" (lib.fileContents ./input);

  # parser = element: line:
  #   let
  #     numbers = lib.splitString " " line;
  #   in {
  #     #left_number = lib.toInt (lib.elemAt numbers 0);
  #     #right_number = lib.toInt (lib.elemAt numbers 3);
  #     number = lib.toInt (lib.elemAt numbers element);
  #   };
  parser =
    element: line:
    let
      numbers = lib.splitString " " line;
    in
    lib.toInt (lib.elemAt numbers element);

  parsed_left = map (parser 0) input;
  parsed_right = map (parser 3) input;
}
